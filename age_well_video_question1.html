<!DOCTYPE html>
<html>
  <body>
  
    <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
    <script src="https://unpkg.com/super-hands@2.1.0/dist/super-hands.min.js"></script>
	<script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.1.2/dist/aframe-physics-system.min.js"></script> 
  
  <script>
		AFRAME.registerComponent('play-on-button-click', {
			init: function () {
			
			this.onClick = this.onClick.bind(this);
			},
			play: function () {
			this.el.addEventListener('click', this.onClick);
			},
			pause: function () {
			this.el.removeEventListener('click', this.onClick);
			},
			onClick: function (evt) {
			
			//var video = document.querySelector("#player");
			var video = document.querySelector("#video1");
			if (!video) { return; }
				//video.components.material.material.map.image.play();
				video.play();
				video.playbackRate=1;
			}
		});
		
		AFRAME.registerComponent('pause-on-button-click', {
			init: function () {
			
			this.onClick = this.onClick.bind(this);
			},
			play: function () {
			this.el.addEventListener('click', this.onClick);
			},
			pause: function () {
			this.el.removeEventListener('click', this.onClick);
			},
			onClick: function (evt) {
			//var video = document.querySelector("#player");
			var video = document.querySelector("#video1");
			if (!video) { return; }
				//video.components.material.material.map.image.pause();
				video.pause();
			}
		});
		
		AFRAME.registerComponent('custom_link', {
				schema: {default: ''},

				init: function () {
					var url = this.data;
					this.el.addEventListener('click', function () {
					window.location.href = url;
					});
				}

			}); 
		
			
		</script> 
    <a-scene>
		
		 <!-- The original example also has this 180 degree rotation, to appear to be going forward. -->
        <a-videosphere id="player" rotation="0 180 0" src="#video1" >
        </a-videosphere>
	  
	    <!--<a-image position="2 0 -5" link="href: vid_gallery2.html"></a-image >	-->	
		
		<!--<a-image src="#play-image" position="-1 -2 -5" play-on-button-click></a-image>
		<a-image src="#stop-image" position="1 -2 -5" pause-on-button-click></a-image>
		-->
		<a-text id="question_text" value="This is a question? \n A- this is an answer. \n B- this is an answer. \n C- this is an answer." color="#FFFFFF"
        position="-6 3 -5" scale="1.5 1.5 1.5" alignment="center" visible="false"></a-text>
		
		<!--<a-image id="answer1" src="button.png" position="-2 0 -5" custom_link="vid_gallery2.html" visible="false">
			<a-text value="C" color="#FFFFFF" position="0 0 0" scale="1 1 1" alignment="center"></a-text>
		</a-image>-->
		<!--Correct answer-->
		<a-plane id="answer1" color="orange" position="-3 0 -5" custom_link="answer1.html" visible="false">
			<a-text value="B" color="black" position="0 0 0" scale="1 1 1" alignment="center"></a-text>
		</a-plane>
		<!--Incorrect answer-->
		<a-plane id="answer2" color="orange" position="-6 0 -5" custom_link="age_well_video_question1.html" visible="false">
			<a-text value="A" color="black" position="0 0 0" scale="1 1 1" alignment="center"></a-text>
		</a-plane>
		
		<a-light type="ambient" color="#445451"></a-light>
		<a-light type="point" intensity="2" position="2 4 4"></a-light>
		
		<a-camera >
			<a-cursor></a-cursor>
		</a-camera>
		
		
		<a-assets>
		
		
		<!-- Single source video. -->
        <video id="video1" src="360_0044.MP4" preload="auto" autoplay style="display:none" loop="false" crossOrigin="anonymous"  playsinline webkit-playsinline> 
        </video>
  
		<img id="play-image" src="play-button.png">
		<img id="stop-image" src="stop-button.png">
		
		
		
    </a-assets>
		<script>
			document.getElementById('video1').addEventListener('ended',myHandler,false);
		function myHandler(e) {
			var answer1 = document.querySelector("#answer1");
			answer1.setAttribute('visible', true);
			var answer2 = document.querySelector("#answer2");
			answer2.setAttribute('visible', true);
			var question = document.querySelector("#question_text");
			question.setAttribute('visible', true);
			
		}
		</script>
	</a-scene>
  </body>
</html>